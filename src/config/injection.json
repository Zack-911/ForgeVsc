{
  "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
  "scopeName": "source.fs.injection",
  "injectionSelector": "L:source.js -string -comment, L:source.ts -string -comment",
  "patterns": [
    {
      "begin": "(?<=\\b(code|handler)\\s*:\\s*)`",
      "end": "`",
      "contentName": "meta.embedded.forgescript",
      "patterns": [
        {
          "include": "#everything_fs"
        },
        {
          "include": "#functions.fs"
        }
      ]
    }
  ],
  "repository": {
    "everything_fs": {
      "patterns": [
        {
          "name": "comment.line.fs",
          "match": "\\$c\\[.*?\\]",
          "patterns": [
            {
              "name": "constant.character.escape.comment.fs",
              "match": "\\\\[nrt\\\\\"']"
            }
          ]
        },
        {
          "name": "constant.other.discord-tag.fs",
          "match": "<[@#!]?[a-zA-Z0-9:_]+>"
        },
        {
          "name": "meta.brackets.fs",
          "begin": "\\[",
          "beginCaptures": {
            "0": {
              "name": "punctuation.definition.brackets.begin.fs"
            }
          },
          "end": "\\]",
          "endCaptures": {
            "0": {
              "name": "punctuation.definition.brackets.end.fs"
            }
          },
          "patterns": [
            {
              "name": "punctuation.separator.fs",
              "match": ";"
            },
            {
              "include": "#everything_fs"
            }
          ]
        },
        {
          "name": "keyword.operator.fs",
          "match": "(?i:(==|=>|<=|!=))"
        },
        {
          "name": "constant.numeric.fs",
          "match": "(?i:\\b\\d+(?:\\.\\d+)?\\b)"
        },
        {
          "name": "constant.language.boolean.true.fs",
          "match": "(?i:\\btrue\\b)"
        },
        {
          "name": "constant.language.boolean.false.fs",
          "match": "(?i:\\bfalse\\b)"
        },
        {
          "name": "markup.heading.fs",
          "match": "(?i:^(#{1,6})\\s.*$)"
        },
        {
          "name": "markup.list.bullet.fs",
          "match": "(?i:^\\-\\s.*$)"
        },
        {
          "name": "markup.bold.fs",
          "begin": "(\\*\\*|__)(?=\\S)",
          "beginCaptures": {
            "1": {
              "name": "punctuation.definition.bold.begin.fs"
            }
          },
          "end": "\\1",
          "endCaptures": {
            "1": {
              "name": "punctuation.definition.bold.end.fs"
            }
          },
          "patterns": [
            {
              "include": "#everything_fs"
            }
          ]
        },
        {
          "include": "#functions"
        }
      ]
    }
  }
}